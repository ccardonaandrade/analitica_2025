{
  "hash": "b4505938ab3dd7282f95f6ded0a0f765",
  "result": {
    "markdown": "---\ntitle: \"An√°lisis de la Calidad del Caf√©\"\n\nlang: es\n\nformat: \n  closeread-html:\n   css: msaz.css\n   code-tools: false\n   fig-format: svg\n   toc: true\n   linkcolor: tomato\n---\n\n\nüìÖ **Fecha L√≠mite:** No hay fecha de entrega. Estos ejercicios son para que estudien. Los resolveremos en las clases del 3 y 10 de Marzo.\n\n\n## An√°lisis de Calidad del Caf√© para Clientes Especializados\n\n::: {.column-screen style=\"background-image:url(https://camo.githubusercontent.com/02ffb0ea07c6b9661808ff3fd1bec90a45e2f9112077119b0d15c80fd1956813/68747470733a2f2f696d616765732e756e73706c6173682e636f6d2f70686f746f2d313535303638313536302d6166396263316362333339653f69786c69623d72622d312e322e3126697869643d65794a6863484266615751694f6a45794d446439266175746f3d666f726d6174266669743d63726f7026773d3133353026713d3830); background-size: 100vw; height: 800px; background-position: center +15%; background-repeat: no-repeat;\"}\n:::\n\nEn este taller, asumiremos el rol de analistas de calidad para una empresa que asesora a tostadores y distribuidores de caf√© de especialidad. Se nos ha proporcionado una base de datos con evaluaciones de distintos caf√©s de diversas regiones del mundo. Nuestro objetivo es analizar estos datos para identificar patrones en la calidad del caf√© y ofrecer recomendaciones a nuestros clientes.\n\nLa base de datos contiene informaci√≥n detallada sobre las caracter√≠sticas sensoriales del caf√©, como aroma, sabor, acidez, cuerpo y balance, as√≠ como la calificaci√≥n general (total_cup_points). Tambi√©n incluye variables como el pa√≠s de origen y el nivel de humedad del grano.\n\nEl conjunto de datos contiene informaci√≥n sobre diversas canciones disponibles en Spotify, incluyendo caracter√≠sticas musicales, metadatos del artista y medidas de popularidad. A continuaci√≥n, se detallan las principales variables:\n\n\n`total_cup_points`: Puntuaci√≥n total del caf√© en una escala de 0 a 100.\n\n`species`: Especie de grano de caf√© (por ejemplo, ar√°bica o robusta).\n\n`country_of_origin`: Pa√≠s de origen del grano de caf√©.\n\n`aroma`: Calificaci√≥n otorgada al aroma del caf√©.\n\n`flavor`: Calificaci√≥n otorgada al sabor del caf√©.\n\n`aftertaste`: Calificaci√≥n otorgada al retrogusto del caf√©.\n\n`acidity`: Calificaci√≥n otorgada a la acidez del caf√©.\n\n`body`: Calificaci√≥n otorgada al cuerpo del caf√© (sensaci√≥n en boca).\n\n`balance`: Calificaci√≥n otorgada al balance del caf√© (equilibrio entre atributos).\n\n`uniformity`: Calificaci√≥n otorgada a la uniformidad del caf√©.\n\n`clean_cup`: Calificaci√≥n otorgada a la limpieza de la taza (ausencia de defectos).\n\n`sweetness`: Calificaci√≥n otorgada a la dulzura del caf√©.\n\n`cupper_points`: Puntuaci√≥n otorgada por el catador en la evaluaci√≥n final.\n\n`moisture`: Nivel de humedad del grano de caf√©.\n\n`altitude_mean_meters`: Altitud promedio (en metros) a la que se cultiv√≥ el caf√©.\n\n\n\n## Ejercicio\n\n\nAbran un R Script, y utilizando la siguiente plantilla, carguen el paquete `tidyverse` y `corrplot`. Instalen `corrplot` porque es la primera vez que lo utilizamos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## ------------------------------\n## An√°lisis de Caf√©\n##\n## Autor(es): \n##\n## Fecha: \n## ------------------------------\n\n## establecemos el directorio de trabajo\n## En esta carpeta deber√≠an estar los datos\nsetwd(\"C:/Users/nombre_apellido/OneDrive/Documentos/analitica_cafe/data\")\n   \n## cargamos todos los paquetes que usaremos en la sesi√≥n:\n\nlibrary(tidyverse)\nlibrary(corrplot)\n\n## ---------------------------\n\n### Ejercicio 1\n\ncoffee_data <- read.csv(\"coffee_ratings.csv\")\nglimpse(coffee_data)\n```\n:::\n\n\n## Ejercicio \n\nReescriban los datos `coffee_data` de manera que s√≥lo tengan las variables:\n\n- `total_cup_points`\n\n- `species`\n\n- `country_of_origin`\n\n- De `aroma` a `moisture`\n\n- `altitude_mean_meters`\n\n## Ejercicio \n\nConstruyan el histograma de la variable `total_cup_points`. \n\nDe acuerdo al histograma, ¬øcu√°l es el valor del dato at√≠pico?\n\nEjecuten el siquiente c√≥digo para eliminar ese sesgo:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoffee_data <- coffee_data |>\n  filter(total_cup_points>50)\n```\n:::\n\n\n\n## Ejercicio \n\nConstruyan un diagrama de caja para `total_cup_points` e incluyan una l√≠nea vertical punteada que indique la calidad promedio de los caf√©s producidos en Colombia. Analicen la posici√≥n de esta l√≠nea en comparaci√≥n con la distribuci√≥n general de la calidad del caf√© en la muestra. ¬øQu√© podemos concluir sobre la calidad de los caf√©s colombianos en relaci√≥n con los dem√°s?\n\n## Ejercicio\n\nUno de nuestros clientes cree que la calidad promedio del caf√© en el mundo es de **80 puntos**. Usando los datos, realicen una prueba de hip√≥tesis con un nivel de significancia del 5% para evaluar esta afirmaci√≥n. ¬øPodemos rechazar la hip√≥tesis nula o no? Expliquen su conclusi√≥n.\n\n## Ejercicio\n\nConstruyan un histograma y un diagrama de caja para la variable altitude_mean_meters. Adem√°s, calculen los cinco n√∫meros resumen: m√≠nimo, primer cuartil (Q1), mediana, tercer cuartil (Q3) y m√°ximo.\nCon base en las gr√°ficas y los estad√≠sticos descriptivos, describan la forma de la distribuci√≥n (sim√©trica, sesgada, presencia de valores at√≠picos, etc.).\n\n## Ejercicio\n\nEstimen un intervalo de confianza para la media de `altitude_mean_meters` al 90% y 95%.\n\n- ¬øLos intervalos son muy diferentes?\n\n- ¬øCu√°l recomendar√≠an para estimar la altitud promedio de los cultivos de caf√© en el mundo y por qu√©?\n\n\n## Ejercicio\n\nUno de nuestros clientes cree que la altitud promedio de los cultivos de caf√© en el mundo es de **1300 metros**. Usando los datos, realicen una prueba de hip√≥tesis con un nivel de significancia del 5% para evaluar esta afirmaci√≥n.\n\n- ¬øPodemos rechazar la hip√≥tesis nula o no?\n\n- Expliquen su conclusi√≥n en t√©rminos sencillos para el cliente.\n\n\n## Ejercicio \n\n1. Creen una variable llamada `colombia`, que tome el valor `TRUE` si el pa√≠s de origen del caf√© es Colombia y `FALSE` en caso contrario.\n\n2. Realicen una prueba de hip√≥tesis para comparar la calidad promedio (`total_cup_points`) del caf√© colombiano vs. los dem√°s caf√©s usando `t.test()`:\n\n$$H_0: \\mu_{\\text{Colombia}}=\\mu_{\\text{No Colombia}}$$\n$$H_A: \\mu_{\\text{Colombia}}\\neq\\mu_{\\text{No Colombia}}$$\n\n\n3. Bas√°ndose en el intervalo de confianza del `t.test()`, decidan si pueden rechazar la hip√≥tesis nula con un nivel de significancia del 5%. Expliquen su conclusi√≥n en t√©rminos sencillos.\n\n## Ejercicio \n\nConstruyan un diagrama de caja para comparar la distribuci√≥n de `total_cup_points` entre los caf√©s colombianos y los de otros pa√≠ses. ¬øC√≥mo se compara la calidad del caf√© colombiano con la de los dem√°s caf√©s en la muestra?\n\n## Ejercicio \n\n¬øLos caf√©s colombianos crecen, en promedio, a una altitud mayor que los dem√°s caf√©s?\n\n1. Formulen las hip√≥tesis para comparar la altitud promedio (`altitude_mean_meters`) de los caf√©s colombianos vs. los no colombianos.\n\n$$H_0: \\mu_{\\text{Colombia}}=\\mu_{\\text{No Colombia}}$$\n$$H_A: \\mu_{\\text{Colombia}}>\\mu_{\\text{No Colombia}}$$\n\n2. Realicen la prueba de hip√≥tesis usando `t.test()`. \n\nComo queremos comprobar si la altitud promedio de los caf√©s colombianos es mayor que la de los dem√°s caf√©s, realizaremos una *prueba de una cola*. Para ello, deben agregar la opci√≥n `alternative = \"greater\"` en el comando.\n\n3. Interpreten el p-value:\n\n  - ¬øPodemos rechazar la hip√≥tesis nula al 5%?\n\n  - ¬øQu√© significa esto en t√©rminos de la altitud promedio de los caf√©s colombianos?\n\n## Ejercicio \n\nEjecuten el siguiente c√≥digo para ver la matriz de correlaciones. El paquete `corrplot` es una buena manera de visualizar la matriz.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoffee_vars_cor <- coffee_data |>\n  select(total_cup_points, aroma, flavor, aftertaste,\n         acidity, body, balance, uniformity, sweetness, cupper_points, moisture)\ncorrplot(cor(coffee_vars_cor), method = 'number', type = \"upper\")\n```\n:::\n\n\nElijan una variable que se correlacione de manera d√©bil con `total_cup_points` y una que se correlacione de manera fuerte.  Basados en los siguientes c√≥digos, construyan un diagrama de dispersi√≥n con cada una de estas variables en el eje `x` y `total_cup_points` en el eje `y`. Reemplacen `__________` con las variables que seleccionaron. \n\n¬øLos patrones observados en los gr√°ficos reflejan la magnitud de las correlaciones?\n\n\n::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(coffee_data) +\n  geom_point(aes(y=total_cup_points,x=__________)) +\n  xlim(0,10)+ ylim(50,100)+\n  labs(y=\"Total Cup Points\",\n       x=\"_________\", \n       title = \"Low Correlation\")+\n  theme_minimal()\n```\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(coffee_data) +\n  geom_point(aes(y=total_cup_points,x=__________)) +\n  xlim(0,10)+ ylim(50,100)+\n  labs(y=\"Total Cup Points\",\n       x=\"_________\", \n       title = \"High Correlation\")+\n  theme_minimal()\n```\n:::\n\n\n:::\n:::\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}